# Exercise 4 - Extending the Pipeline: Setup Custom Receiver Determination

In this exercise, we will create...

## Exercise 4.1 - Create Custom Integration Flow

After completing these steps you will have created...

1. Choose **Cloud Integration Pipeline - Templates**

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_01.png)

2. Click the **Artifacts** tab. Choose **Pipeline v2 Template Step04 - Custom Receiver Determination**. Click on the dots and choose **copy**. 

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_02.png)

3. Click **Select**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_03.png)

4. Choose **User XX**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_04.png)

5. Edit the template name and package by entering your user ID number, then click **Copy**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_05.png)

6. Click **Navigate**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_06.png)

7. In **User XX**, choose **Pipeline v2 Template Step04 - Customer Receiver Determication XX**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_07.png)

8. Click **Edit**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_08.png)

9. Under Intergration Flow, click **References** tab, and click **Global (0)** tab. Choose **Message Mapping** under the drop-down bar of **Add References**. 

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_09.png)

10. Choose **Migration Hands-on Workshop - Solution**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_10.png)

11. Choose **mm_item_to_receivers_sol**.Click **OK**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_11.png)

12. Choose **mm_item_to_receivers_sol**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_12.png)

13. Click the + button.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_13.png)

14. Search for **Mapping** under All Steps. Choose **Message Mapping**. 

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_14.png)

15. Click on âœ“ to select message resource.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_15.png)

16. Click **Global Resources**, and choose **mm_item_to_receivers_sol**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_16.png)

17. Under Message Mapping, click **Processing**, and click **/mm_item_to_receivers_sol**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_17.png)

18. Click Categotry > Receiver. 

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_18.png)

19. Click **Close**.

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_19.png)

20. Under Mapping Expression, choose **XYZ200**. 

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_20.png)

21. xxx

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_21.png)

22. xxx

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_22.png)

23. xxx

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_23.png)

24. xxx

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_24.png)

25. xxx

<br>![](/exercises/ex4/images/04_01_CreateIntegrationFlow_25.png)


## Exercise 4.2 - Configure the Partner Directory

After completing these steps you will have...

1. xxx

<br>![](/exercises/ex4/images/04_02_PartnerDirectory_01.png)

2. xxx

<br>![](/exercises/ex4/images/04_02_PartnerDirectory_02.png)

3. xxx

<br>![](/exercises/ex4/images/04_02_PartnerDirectory_03.png)

4. xxx

<br>![](/exercises/ex4/images/04_02_PartnerDirectory_04.png)

## Exercise 4.3 - Test and Monitor

After completing these steps you will have...

1. xxx

<br>![](/exercises/ex4/images/04_03_Test_01.png)

2. xxx

<br>![](/exercises/ex4/images/04_03_Test_02.png)

3. xxx

<br>![](/exercises/ex4/images/04_03_Test_03.png)

4. xxx

<br>![](/exercises/ex4/images/04_03_Test_04.png)

5. xxx

<br>![](/exercises/ex4/images/04_03_Test_05.png)

6. xxx

<br>![](/exercises/ex4/images/04_03_Test_06.png)


## Summary

You've now ...

Congratulations. You have completed all exercises.
